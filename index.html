<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Plantilla Prueba Piloto BDR</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
body{
    font-family: 'Inter', sans-serif;
    background:#f4f6f9;
    margin:0;
    padding:20px;
    color:#1f2937;
}
.container{
    max-width:1200px;
    margin:auto;
    background:#fff;
    padding:30px;
    border-radius:10px;
    box-shadow:0 10px 25px rgba(0,0,0,.08);
}
h1{
    color:#0f3c6e;
    border-bottom:3px solid #0f3c6e;
    padding-bottom:10px;
}
h2{
    margin-top:35px;
    color:#0f3c6e;
}
.section{
    border:1px solid #e5e7eb;
    padding:20px;
    border-radius:8px;
    margin-top:15px;
    background:#fafafa;
}
label{
    font-weight:600;
    display:block;
    margin-top:10px;
}
input, textarea, select{
    width:100%;
    padding:8px;
    border-radius:6px;
    border:1px solid #cbd5e1;
}
textarea{min-height:70px}
button{
    margin-top:10px;
    padding:8px 14px;
    background:#0f3c6e;
    color:#fff;
    border:none;
    border-radius:6px;
    cursor:pointer;
}
button.secondary{
    background:#64748b;
}
table{
    width:100%;
    border-collapse:collapse;
    margin-top:10px;
}
th, td{
    border:1px solid #cbd5e1;
    padding:8px;
    text-align:left;
}
th{
    background:#e5eef8;
}
.checkbox-group label{
    font-weight:400;
}
.actions{
    text-align:right;
    margin-top:30px;
}
hr{
    margin:40px 0;
    border:none;
    border-top:2px dashed #cbd5e1;
}
@media print{
    button{display:none}
    body{background:#fff}
}
</style>
</head>

<body>
<div class="container">

<h1>Prueba Piloto ‚Äì Continuidad y Recuperaci√≥n</h1>

<!-- 1. Informaci√≥n del Proyecto -->
<h2>1. Informaci√≥n del Proyecto</h2>
<div class="section">
<label>Cliente</label><input data-field>
<label>Fecha de la prueba</label><input type="date" data-field>
<label>Ventana de mantenimiento</label><input data-field>

<h3>Ingenieros Responsables</h3>
<div id="ingenieros"></div>
<button onclick="addBlock('ingenieros')">+ Agregar ingeniero</button>

<h3>Contactos del Cliente</h3>
<div id="contactos"></div>
<button onclick="addBlock('contactos')">+ Agregar contacto</button>
</div>

<!-- 2. Checklist Pre-Prueba -->
<h2>2. Checklist Pre-Prueba</h2>
<div class="section checkbox-group">
<label><input type="checkbox" data-field> Accesos validados</label>
<label><input type="checkbox" data-field> Ventana aprobada</label>
<label><input type="checkbox" data-field> Credenciales recibidas</label>
<label><input type="checkbox" data-field> Equipo operativo</label>
<label><input type="checkbox" data-field> Alcance aprobado</label>
<label><input type="checkbox" data-field> Sistemas identificados</label>
<label><input type="checkbox" data-field> Cliente informado</label>
</div>

<!-- 3. Alcance -->
<h2>3. Alcance de la Prueba</h2>
<div class="section">
<label>Incluye</label><textarea data-field></textarea>
<label>No incluye</label><textarea data-field></textarea>
</div>

<!-- 4. Informaci√≥n T√©cnica -->
<h2>4. Sistemas a Proteger</h2>
<div class="section">
<div id="sistemas"></div>
<button onclick="addSystem()">+ Agregar sistema</button>
</div>

<!-- 5. Configuraci√≥n -->
<h2>5. Configuraci√≥n Implementada</h2>
<div class="section">
<label>Detalles t√©cnicos</label><textarea data-field></textarea>
</div>

<!-- 6. Escenarios -->
<h2>6. Escenarios de Recuperaci√≥n</h2>
<div class="section checkbox-group">
<label><input type="checkbox" data-field> Recuperaci√≥n de archivos / carpetas</label>
<label><input type="checkbox" data-field> Recuperaci√≥n por volumen / partici√≥n</label>
<label><input type="checkbox" data-field> Virtualizaci√≥n instant√°nea</label>
<label><input type="checkbox" data-field> Exportaci√≥n VM (.VHDX / .VMDK)</label>
<label><input type="checkbox" data-field> Bare Metal Restore (BMR)</label>
</div>

<!-- 7. M√©tricas -->
<h2>7. M√©tricas RTO / RPO</h2>
<div class="section">
<table>
<tr>
<th>Sistema</th><th>RTO Obj</th><th>RTO Real</th><th>RPO Obj</th><th>RPO Real</th>
</tr>
<tr>
<td><input data-field></td>
<td><input data-field></td>
<td><input data-field></td>
<td><input data-field></td>
<td><input data-field></td>
</tr>
</table>
</div>

<!-- 8. Checklist Durante -->
<h2>8. Checklist Durante la Prueba</h2>
<div class="section checkbox-group">
<label><input type="checkbox" data-field> Backup ejecutado</label>
<label><input type="checkbox" data-field> Punto v√°lido</label>
<label><input type="checkbox" data-field> Escenario ejecutado</label>
<label><input type="checkbox" data-field> Datos verificados</label>
<label><input type="checkbox" data-field> Evidencias tomadas</label>
<label><input type="checkbox" data-field> Producci√≥n no afectada</label>
<label><input type="checkbox" data-field> Cliente informado</label>
</div>

<!-- 9. Validaci√≥n -->
<h2>9. Validaci√≥n del Cliente</h2>
<div class="section">
<label>Resultado general</label>
<select data-field>
<option>Aprobado</option>
<option>Observado</option>
</select>
<label>Comentarios</label><textarea data-field></textarea>
</div>

<!-- 10. Oportunidades -->
<h2>10. Oportunidades Identificadas</h2>
<div class="section">
<textarea data-field></textarea>
</div>

<!-- 11. Post -->
<h2>11. Checklist Post-Prueba</h2>
<div class="section checkbox-group">
<label><input type="checkbox" data-field> Sistemas restaurados</label>
<label><input type="checkbox" data-field> Evidencias guardadas</label>
<label><input type="checkbox" data-field> Cliente informado</label>
<label><input type="checkbox" data-field> Datos eliminados</label>
<label><input type="checkbox" data-field> Documento generado</label>
<label><input type="checkbox" data-field> Caso cerrado</label>
</div>

<!-- 12. Anexos -->
<h2>12. Anexos</h2>
<div class="section">
<textarea data-field></textarea>
</div>

<div class="actions">
<button onclick="window.print()">üñ® Imprimir / Exportar PDF</button>
</div>

</div>

<script>
const client = new URLSearchParams(window.location.search).get("client") || "default";

function save(){
    const data=[];
    document.querySelectorAll('[data-field]').forEach(e=>{
        data.push({v:e.type==="checkbox"?e.checked:e.value});
    });
    localStorage.setItem("pilot_"+client, JSON.stringify(data));
}
function load(){
    const data=JSON.parse(localStorage.getItem("pilot_"+client)||"[]");
    document.querySelectorAll('[data-field]').forEach((e,i)=>{
        if(data[i]) e.type==="checkbox"?e.checked=data[i].v:e.value=data[i].v;
    });
}
document.addEventListener("input",save);
window.onload=load;

function addBlock(id){
    const d=document.createElement("div");
    d.innerHTML='<input placeholder="Nombre"><input placeholder="Cargo / Rol"><input placeholder="Correo / Tel√©fono"><hr>';
    document.getElementById(id).appendChild(d);
}
function addSystem(){
    const d=document.createElement("div");
    d.innerHTML='<table><tr><th>Nombre</th><th>Tipo</th><th>SO</th><th>Rol</th><th>Tama√±o</th></tr><tr><td><input></td><td><input></td><td><input></td><td><input></td><td><input></td></tr></table><br>';
    document.getElementById("sistemas").appendChild(d);
}
</script>

</body>
</html>
