import React, { useState, useEffect } from 'react';
import { Check, Square, AlertCircle, FileText, Clock, Server, HardDrive, Plus, Trash2, Printer, Users, BarChart3 } from 'lucide-react';

const DattoPilotTemplate = () => {
  const clientId = new URLSearchParams(window.location.search).get('client') || 'default';
  
  const [formData, setFormData] = useState({
    cliente: '',
    fechaPrueba: '',
    ingenieros: [''],
    contactosCliente: [{ nombre: '', cargo: '', telefono: '', email: '' }],
    ventanaPrueba: '',
    alcanceSi: '',
    alcanceNo: '',
    sistemas: [{
      nombre: '', tipo: '', sistemaOperativo: '', aplicacion: '', capacidad: '', hipervisor: ''
    }],
    modeloAppliance: '',
    serialEquipo: '',
    agenteInstalado: '',
    politicaBackup: '',
    escenarios: [
      { checked: false, nombre: 'Recuperaci√≥n de Archivos/Carpetas', descripcion: '' },
      { checked: false, nombre: 'Recuperaci√≥n de Volumen/Partici√≥n', descripcion: '' },
      { checked: false, nombre: 'Virtualizaci√≥n Instant√°nea (BMR)', descripcion: '' },
      { checked: false, nombre: 'Exportaci√≥n de VM (.VHDX/.VMDK)', descripcion: '' },
      { checked: false, nombre: 'BMR en Hardware Diferente', descripcion: '' }
    ],
    metricasPorSistema: [{ sistema: '', rto_obj: '', rto_res: '', rto_st: '', rpo_obj: '', rpo_res: '', rpo_st: '', int_res: '', int_st: '' }],
    validacionCliente: '',
    comentariosCliente: '',
    observaciones: '',
    encuesta: { satisfaccion: 0, facilidad: 0, tiempo: 0, confianza: 0 }
  });

  const [checkedItems, setCheckedItems] = useState({});

  useEffect(() => {
    const saved = localStorage.getItem(`datto-${clientId}`);
    if (saved) {
      try {
        const parsed = JSON.parse(saved);
        setFormData(parsed.formData || formData);
        setCheckedItems(parsed.checkedItems || {});
      } catch (e) {}
    }
  }, [clientId]);

  useEffect(() => {
    localStorage.setItem(`datto-${clientId}`, JSON.stringify({ formData, checkedItems, lastSaved: new Date().toISOString() }));
  }, [formData, checkedItems, clientId]);

  const toggleCheck = (section, item) => {
    setCheckedItems(prev => ({ ...prev, [`${section}-${item}`]: !prev[`${section}-${item}`] }));
  };

  const updateFormData = (field, value) => setFormData(prev => ({ ...prev, [field]: value }));

  const addItem = (field) => {
    const newItem = field === 'ingenieros' ? '' : 
      field === 'contactosCliente' ? { nombre: '', cargo: '', telefono: '', email: '' } :
      field === 'sistemas' ? { nombre: '', tipo: '', sistemaOperativo: '', aplicacion: '', capacidad: '', hipervisor: '' } :
      { sistema: '', rto_obj: '', rto_res: '', rto_st: '', rpo_obj: '', rpo_res: '', rpo_st: '', int_res: '', int_st: '' };
    setFormData(prev => ({ ...prev, [field]: [...prev[field], newItem] }));
  };

  const removeItem = (field, index) => {
    setFormData(prev => ({ ...prev, [field]: prev[field].filter((_, i) => i !== index) }));
  };

  const updateArrayItem = (field, index, value) => {
    setFormData(prev => ({ ...prev, [field]: prev[field].map((item, i) => i === index ? value : item) }));
  };

  const updateNestedField = (field, index, subfield, value) => {
    setFormData(prev => ({
      ...prev,
      [field]: prev[field].map((item, i) => i === index ? { ...item, [subfield]: value } : item)
    }));
  };

  const CheckItem = ({ section, id, text }) => {
    const isChecked = checkedItems[`${section}-${id}`];
    return (
      <div className="flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer print:hover:bg-white" onClick={() => toggleCheck(section, id)}>
        {isChecked ? <Check className="w-5 h-5 text-green-600 flex-shrink-0 mt-0.5" /> : <Square className="w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5" />}
        <span className="text-sm text-gray-700">{text}</span>
      </div>
    );
  };

  const promedioEncuesta = ((formData.encuesta.satisfaccion + formData.encuesta.facilidad + formData.encuesta.tiempo + formData.encuesta.confianza) / 4).toFixed(1);

  return (
    <div className="max-w-5xl mx-auto p-8 bg-white">
      <div className="fixed top-4 right-4 flex gap-2 print:hidden bg-white p-2 rounded-lg shadow-lg z-50">
        <button onClick={() => window.print()} className="flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
          <Printer className="w-4 h-4" /> Imprimir/PDF
        </button>
        <div className="text-xs text-gray-500 px-2 py-2 bg-green-50 rounded">‚úì Auto-guardado</div>
      </div>

      <div className="mb-4 p-2 bg-blue-50 rounded text-xs text-gray-600 print:hidden">
        <strong>ID:</strong> {clientId} | <strong>√öltima modificaci√≥n:</strong> {new Date().toLocaleString('es-PE')}
      </div>

      <div className="border-b-4 border-blue-600 pb-4 mb-6">
        <h1 className="text-3xl font-bold text-gray-900">TEMPLATE: PRUEBA PILOTO</h1>
        <h2 className="text-xl text-blue-600 mt-2">Soluci√≥n Datto BDR</h2>
        <p className="text-sm text-gray-500 mt-2">Documento Interno | Gesti√≥n de Proyectos</p>
      </div>

      <div className="bg-blue-50 border-l-4 border-blue-600 p-4 mb-6">
        <h3 className="font-bold text-lg mb-3 flex items-center gap-2"><FileText className="w-5 h-5" />INFORMACI√ìN DEL PROYECTO</h3>
        <div className="grid grid-cols-2 gap-4">
          <div><label className="text-xs font-semibold text-gray-600">Cliente:</label>
            <input type="text" className="w-full border border-gray-300 rounded px-2 py-1 mt-1" placeholder="Nombre de la empresa" value={formData.cliente} onChange={(e) => updateFormData('cliente', e.target.value)} />
          </div>
          <div><label className="text-xs font-semibold text-gray-600">Fecha de Prueba:</label>
            <input type="date" className="w-full border border-gray-300 rounded px-2 py-1 mt-1" value={formData.fechaPrueba} onChange={(e) => updateFormData('fechaPrueba', e.target.value)} />
          </div>
        </div>

        <div className="mt-4">
          <label className="text-xs font-semibold text-gray-600 flex items-center gap-2"><Users className="w-4 h-4" />Ingeniero(s) Responsable(s):</label>
          {formData.ingenieros.map((ing, idx) => (
            <div key={idx} className="flex gap-2 mt-2">
              <input type="text" className="flex-1 border border-gray-300 rounded px-2 py-1" placeholder="Nombre completo" value={ing} onChange={(e) => updateArrayItem('ingenieros', idx, e.target.value)} />
              {formData.ingenieros.length > 1 && <button onClick={() => removeItem('ingenieros', idx)} className="text-red-600 hover:bg-red-50 p-2 rounded print:hidden"><Trash2 className="w-4 h-4" /></button>}
            </div>
          ))}
          <button onClick={() => addItem('ingenieros')} className="mt-2 text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1 print:hidden"><Plus className="w-4 h-4" /> Agregar ingeniero</button>
        </div>

        <div className="mt-4">
          <label className="text-xs font-semibold text-gray-600 flex items-center gap-2"><Users className="w-4 h-4" />Contacto(s) del Cliente:</label>
          {formData.contactosCliente.map((contacto, idx) => (
            <div key={idx} className="border border-gray-200 rounded p-3 mt-2 bg-white">
              <div className="grid grid-cols-2 gap-2">
                <input type="text" className="border border-gray-300 rounded px-2 py-1" placeholder="Nombre" value={contacto.nombre} onChange={(e) => updateNestedField('contactosCliente', idx, 'nombre', e.target.value)} />
                <input type="text" className="border border-gray-300 rounded px-2 py-1" placeholder="Cargo" value={contacto.cargo} onChange={(e) => updateNestedField('contactosCliente', idx, 'cargo', e.target.value)} />
                <input type="tel" className="border border-gray-300 rounded px-2 py-1" placeholder="Tel√©fono" value={contacto.telefono} onChange={(e) => updateNestedField('contactosCliente', idx, 'telefono', e.target.value)} />
                <input type="email" className="border border-gray-300 rounded px-2 py-1" placeholder="Email" value={contacto.email} onChange={(e) => updateNestedField('contactosCliente', idx, 'email', e.target.value)} />
              </div>
              {formData.contactosCliente.length > 1 && <button onClick={() => removeItem('contactosCliente', idx)} className="mt-2 text-sm text-red-600 hover:bg-red-50 px-2 py-1 rounded flex items-center gap-1 print:hidden"><Trash2 className="w-3 h-3" /> Eliminar</button>}
            </div>
          ))}
          <button onClick={() => addItem('contactosCliente')} className="mt-2 text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1 print:hidden"><Plus className="w-4 h-4" /> Agregar contacto</button>
        </div>

        <div className="mt-4"><label className="text-xs font-semibold text-gray-600">Ventana de Prueba:</label>
          <input type="text" className="w-full border border-gray-300 rounded px-2 py-1 mt-1" placeholder="Ej: S√°bado 15:00-19:00" value={formData.ventanaPrueba} onChange={(e) => updateFormData('ventanaPrueba', e.target.value)} />
        </div>
      </div>

      <div className="mb-6 border border-gray-300 rounded-lg p-4">
        <h3 className="font-bold text-lg mb-3 bg-yellow-100 -m-4 p-3 rounded-t-lg">‚úì CHECKLIST PRE-PRUEBA</h3>
        <div className="mt-4 space-y-1">
          <CheckItem section="pre" id="1" text="Coordinaci√≥n confirmada con el cliente" />
          <CheckItem section="pre" id="2" text="Accesos remotos validados" />
          <CheckItem section="pre" id="3" text="Credenciales de administrador recibidas" />
          <CheckItem section="pre" id="4" text="Appliance Datto operativo" />
          <CheckItem section="pre" id="5" text="Conectividad de red validada" />
          <CheckItem section="pre" id="6" text="Info del sistema documentada" />
          <CheckItem section="pre" id="7" text="Ventana autorizada" />
        </div>
      </div>

      <div className="mb-6">
        <h3 className="font-bold text-lg mb-3 flex items-center gap-2"><Server className="w-5 h-5" />ALCANCE</h3>
        <div className="grid grid-cols-2 gap-4">
          <div className="border border-green-300 bg-green-50 rounded p-3">
            <p className="font-semibold text-green-800 mb-2">‚úì S√ç INCLUYE:</p>
            <textarea className="w-full border border-green-300 rounded px-2 py-1 text-sm h-24" value={formData.alcanceSi} onChange={(e) => updateFormData('alcanceSi', e.target.value)} />
          </div>
          <div className="border border-red-300 bg-red-50 rounded p-3">
            <p className="font-semibold text-red-800 mb-2">‚úó NO INCLUYE:</p>
            <textarea className="w-full border border-red-300 rounded px-2 py-1 text-sm h-24" value={formData.alcanceNo} onChange={(e) => updateFormData('alcanceNo', e.target.value)} />
          </div>
        </div>
      </div>

      <div className="mb-6">
        <h3 className="font-bold text-lg mb-3">SISTEMAS A PROTEGER</h3>
        {formData.sistemas.map((sistema, idx) => (
          <div key={idx} className="mb-4 border border-gray-300 rounded-lg p-4 bg-gray-50">
            <div className="flex justify-between items-center mb-3">
              <h4 className="font-semibold">Sistema #{idx + 1}</h4>
              {formData.sistemas.length > 1 && <button onClick={() => removeItem('sistemas', idx)} className="text-red-600 hover:bg-red-50 p-2 rounded print:hidden"><Trash2 className="w-4 h-4" /></button>}
            </div>
            <table className="w-full border-collapse border border-gray-300 text-sm bg-white">
              <tbody>
                <tr><td className="border border-gray-300 p-2 font-semibold w-1/3">Nombre</td><td className="border border-gray-300 p-2"><input type="text" className="w-full border-none outline-none" value={sistema.nombre} onChange={(e) => updateNestedField('sistemas', idx, 'nombre', e.target.value)} /></td></tr>
                <tr><td className="border border-gray-300 p-2 font-semibold">Tipo</td><td className="border border-gray-300 p-2"><select className="w-full border-none outline-none" value={sistema.tipo} onChange={(e) => updateNestedField('sistemas', idx, 'tipo', e.target.value)}><option value="">Seleccionar...</option><option>Servidor F√≠sico</option><option>VM</option><option>Nube</option></select></td></tr>
                <tr><td className="border border-gray-300 p-2 font-semibold">SO</td><td className="border border-gray-300 p-2"><input type="text" className="w-full border-none outline-none" value={sistema.sistemaOperativo} onChange={(e) => updateNestedField('sistemas', idx, 'sistemaOperativo', e.target.value)} /></td></tr>
                <tr><td className="border border-gray-300 p-2 font-semibold">Aplicaci√≥n Cr√≠tica</td><td className="border border-gray-300 p-2"><input type="text" className="w-full border-none outline-none" value={sistema.aplicacion} onChange={(e) => updateNestedField('sistemas', idx, 'aplicacion', e.target.value)} /></td></tr>
                <tr><td className="border border-gray-300 p-2 font-semibold">Capacidad</td><td className="border border-gray-300 p-2"><input type="text" className="w-full border-none outline-none" value={sistema.capacidad} onChange={(e) => updateNestedField('sistemas', idx, 'capacidad', e.target.value)} /></td></tr>
                <tr><td className="border border-gray-300 p-2 font-semibold">Hipervisor</td><td className="border border-gray-300 p-2"><input type="text" className="w-full border-none outline-none" value={sistema.hipervisor} onChange={(e) => updateNestedField('sistemas', idx, 'hipervisor', e.target.value)} /></td></tr>
              </tbody>
            </table>
          </div>
        ))}
        <button onClick={() => addItem('sistemas')} className="mt-2 text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1 print:hidden"><Plus className="w-4 h-4" /> Agregar sistema</button>
      </div>

      <div className="mb-6 border border-blue-300 bg-blue-50 rounded-lg p-4">
        <h3 className="font-bold text-lg mb-3">CONFIGURACI√ìN</h3>
        <div className="grid grid-cols-2 gap-4 text-sm">
          <div><p className="font-semibold mb-1">Modelo Appliance:</p><input type="text" className="w-full border border-gray-300 rounded px-2 py-1" value={formData.modeloAppliance} onChange={(e) => updateFormData('modeloAppliance', e.target.value)} /></div>
          <div><p className="font-semibold mb-1">Serial:</p><input type="text" className="w-full border border-gray-300 rounded px-2 py-1" value={formData.serialEquipo} onChange={(e) => updateFormData('serialEquipo', e.target.value)} /></div>
          <div><p className="font-semibold mb-1">Agente:</p><select className="w-full border border-gray-300 rounded px-2 py-1" value={formData.agenteInstalado} onChange={(e) => updateFormData('agenteInstalado', e.target.value)}><option value="">Seleccionar...</option><option>Windows</option><option>Linux</option><option>Agentless</option><option>Mixto</option></select></div>
          <div><p className="font-semibold mb-1">Pol√≠tica Backup:</p><input type="text" className="w-full border border-gray-300 rounded px-2 py-1" value={formData.politicaBackup} onChange={(e) => updateFormData('politicaBackup', e.target.value)} /></div>
        </div>
      </div>

      <div className="mb-6">
        <h3 className="font-bold text-lg mb-3 flex items-center gap-2"><HardDrive className="w-5 h-5" />ESCENARIOS DE RECUPERACI√ìN</h3>
        <div className="space-y-3">
          {formData.escenarios.map((esc, idx) => (
            <div key={idx} className="border border-gray-300 rounded p-3 bg-gray-50">
              <div className="flex items-center gap-2 mb-2">
                <input type="checkbox" className="w-4 h-4" checked={esc.checked} onChange={(e) => { const n = [...formData.escenarios]; n[idx].checked = e.target.checked; updateFormData('escenarios', n); }} />
                <span className="font-semibold text-sm">{idx + 1}. {esc.nombre}</span>
              </div>
              <textarea className="w-full border border-gray-200 rounded px-2 py-1 text-sm bg-white" rows="2" value={esc.descripcion} onChange={(e) => { const n = [...formData.escenarios]; n[idx].descripcion = e.target.value; updateFormData('escenarios', n); }} />
            </div>
          ))}
        </div>
      </div>

      <div className="mb-6">
        <h3 className="font-bold text-lg mb-3 flex items-center gap-2"><Clock className="w-5 h-5" />M√âTRICAS POR SISTEMA</h3>
        <p className="text-xs text-gray-600 mb-3">Documentar m√©tricas espec√≠ficas de cada sistema</p>
        {formData.metricasPorSistema.map((met, idx) => (
          <div key={idx} className="mb-4 border border-gray-300 rounded p-3 bg-gray-50">
            <div className="flex justify-between items-center mb-2">
              <input type="text" className="font-semibold border-b border-gray-400 bg-transparent outline-none" placeholder="Sistema..." value={met.sistema} onChange={(e) => updateNestedField('metricasPorSistema', idx, 'sistema', e.target.value)} />
              {formData.metricasPorSistema.length > 1 && <button onClick={() => removeItem('metricasPorSistema', idx)} className="text-red-600 p-1 print:hidden"><Trash2 className="w-4 h-4" /></button>}
            </div>
            <table className="w-full border-collapse border border-gray-300 text-xs bg-white">
              <thead className="bg-gray-100"><tr><th className="border border-gray-300 p-1">M√©trica</th><th className="border border-gray-300 p-1">Objetivo</th><th className="border border-gray-300 p-1">Resultado</th><th className="border border-gray-300 p-1">Estado</th></tr></thead>
              <tbody>
                <tr><td className="border border-gray-300 p-1 font-semibold">RTO</td><td className="border border-gray-300 p-1"><input type="text" className="w-full text-center text-xs" value={met.rto_obj} onChange={(e) => updateNestedField('metricasPorSistema', idx, 'rto_obj', e.target.value)} /></td><td className="border border-gray-300 p-1"><input type="text" className="w-full text-center text-xs" value={met.rto_res} onChange={(e) => updateNestedField('metricasPorSistema', idx, 'rto_res', e.target.value)} /></td><td className="border border-gray-300 p-1"><select className="w-full text-xs" value={met.rto_st} onChange={(e) => updateNestedField('metricasPorSistema', idx, 'rto_st', e.target.value)}><option value="">-</option><option>‚úì</option><option>‚úó</option></select></td></tr>
                <tr><td className="border border-gray-300 p-1 font-semibold">RPO</td><td className="border border-gray-300 p-1"><input type="text" className="w-full text-center text-xs" value={met.rpo_obj} onChange={(e) => updateNestedField('metricasPorSistema', idx, 'rpo_obj', e.target.value)} /></td><td className="border border-gray-300 p-1"><input type="text" className="w-full text-center text-xs" value={met.rpo_res} onChange={(e) => updateNestedField('metricasPorSistema', idx, 'rpo_res', e.target.value)} /></td><td className="border border-gray-300 p-1"><select className="w-full text-xs" value={met.rpo_st} onChange={(e) => updateNestedField('metricasPorSistema', idx, 'rpo_st', e.target.value)}><option value="">-</option><option>‚úì</option><option>‚úó</option></select></td></tr>
                <tr><td className="border border-gray-300 p-1 font-semibold">Integridad</td><td className="border border-gray-300 p-1 text-center text-xs">100%</td><td className="border border-gray-300 p-1"><input type="text" className="w-full text-center text-xs" value={met.int_res} onChange={(e) => updateNestedField('metricasPorSistema', idx, 'int_res', e.target.value)} /></td><td className="border border-gray-300 p-1"><select className="w-full text-xs" value={met.int_st} onChange={(e) => updateNestedField('metricasPorSistema', idx, 'int_st', e.target.value)}><option value="">-</option><option>‚úì</option><option>‚úó</option></select></td></tr>
              </tbody>
            </table>
          </div>
        ))}
        <button onClick={() => addItem('metricasPorSistema')} className="mt-2 text-sm text-blue-600 flex items-center gap-1 print:hidden"><Plus className="w-4 h-4" /> Agregar sistema</button>
      </div>

      <div className="mb-6 border border-gray-300 rounded-lg p-4">
        <h3 className="font-bold text-lg mb-3 bg-blue-100 -m-4 p-3 rounded-t-lg">‚úì CHECKLIST DURANTE</h3>
        <div className="mt-4 space-y-1">
          <CheckItem section="dur" id="1" text="Backup inicial completado" />
          <CheckItem section="dur" id="2" text="Puntos de recuperaci√≥n verificados" />
          <CheckItem section="dur" id="3" text="Escenarios ejecutados" />
          <CheckItem section="dur" id="4" text="Datos validados por cliente" />
          <CheckItem section="dur" id="5" text="Evidencias capturadas" />
          <CheckItem section="dur" id="6" text="Tiempos documentados" />
          <CheckItem section="dur" id="7" text="Sistema productivo no afectado" />
        </div>
      </div>

      <div className="mb-6 border border-green-300 bg-green-50 rounded-lg p-4">
        <h3 className="font-bold text-lg mb-3">VALIDACI√ìN DEL CLIENTE</h3>
        <div className="space-y-3">
          <div><label className="text-sm font-semibold">¬øDatos recuperados correctos?</label>
            <div className="flex gap-4 mt-1">
              <label className="flex items-center gap-2"><input type="radio" name="val" value="si" checked={formData.validacionCliente === 'si'} onChange={(e) => updateFormData('validacionCliente', e.target.value)} /><span className="text-sm">‚úì S√≠</span></label>
              <label className="flex items-center gap-2"><input type="radio" name="val" value="no" checked={formData.validacionCliente === 'no'} onChange={(e) => updateFormData('validacionCliente', e.target.value)} /><span className="text-sm">‚úó No</span></label>
            </div>
          </div>
          <div><label className="text-sm font-semibold">Comentarios:</label>
            <textarea className="w-full border border-gray-300 rounded px-2 py-1 mt-1" rows="3" value={formData.comentariosCliente} onChange={(e) => updateFormData('comentariosCliente', e.target.value)} />
          </div>
        </div>
      </div>

      <div className="mb-6 border border-purple-300 bg-purple-50 rounded-lg p-4">
        <h3 className="font-bold text-lg mb-3 flex items-center gap-2"><BarChart3 className="w-5 h-5" />ENCUESTA DE SATISFACCI√ìN</h3>
        <p className="text-xs text-gray-600 mb-3">Calificar del 1 al 5 (1=Muy Malo, 5=Excelente)</p>
        <div className="space-y-3">
          {[
            { key: 'satisfaccion', label: 'Satisfacci√≥n General' },
            { key: 'facilidad', label: 'Facilidad de Recuperaci√≥n' },
            { key: 'tiempo', label: 'Tiempo de Recuperaci√≥n' },
            { key: 'confianza', label: 'Confianza en la Soluci√≥n' }
          ].map(item => (
            <div key={item.key} className="flex items-center justify-between">
              <span className="text-sm font-semibold">{item.label}:</span>
              <div className="flex gap-2">
                {[1, 2, 3, 4, 5].map(val => (
                  <label key={val} className="cursor-pointer">
                    <input type="radio" name={item.key} value={val} checked={formData.encuesta[item.key] === val} onChange={() => updateFormData('encuesta', { ...formData.encuesta, [item.key]: val })} className="mr-1" />
                    <span className="text-sm">{val}</span>
                  </label>
                ))}
              </div>
            </div>
          ))}
        </div>
        <div className="mt-4 p-3 bg-white rounded border border-purple-200">
          <p className="text-sm font-semibold">Promedio General: <span className="text-2xl text-purple-600">{promedioEncuesta}</span> / 5.0</p>
        </div>
      </div>

      <div className="mb-6">
        <h3 className="font-bold text-lg mb-3 flex items-center gap-2"><AlertCircle className="w-5 h-5" />OPORTUNIDADES</h3>
        <textarea className="w-full border border-gray-300 rounded px-3 py-2" rows="4" placeholder="Oportunidades comerciales identificadas..." value={formData.observaciones} onChange={(e) => updateFormData('observaciones', e.target.value)} />
      </div>

      <div className="mb-6 border border-gray-300 rounded-lg p-4">
        <h3 className="font-bold text-lg mb-3 bg-green-100 -m-4 p-3 rounded-t-lg">‚úì CHECKLIST POST-PRUEBA</h3>
        <div className="mt-4 space-y-1">
          <CheckItem section="post" id="1" text="Sistema productivo restaurado a estado original" />
          <CheckItem section="post" id="2" text="Anexo t√©cnico completado" />
          <CheckItem section="post" id="3" text="M√©tricas documentadas" />
          <CheckItem section="post" id="4" text="Conformidad del cliente obtenida" />
          <CheckItem section="post" id="5" text="Reporte ejecutivo preparado" />
          <CheckItem section="post" id="6" text="Oportunidades reportadas" />
        </div>
      </div>

      <div className="mb-6 bg-gray-50 border border-gray-300 rounded p-4">
        <h3 className="font-bold text-lg mb-2">ANEXOS T√âCNICOS</h3>
        <p className="text-sm text-gray-600 mb-2">Documentos de soporte:</p>
        <div className="space-y-1 text-sm">
          <div className="flex items-center gap-2">
            <input type="checkbox" className="w-4 h-4" />
            <span>Anexo A: Capturas instalaci√≥n</span>
          </div>
          <div className="flex items-center gap-2">
            <input type="checkbox" className="w-4 h-4" />
            <span>Anexo B: Evidencias recuperaci√≥n</span>
          </div>
          <div className="flex items-center gap-2">
            <input type="checkbox" className="w-4 h-4" />
            <span>Anexo C: Logs t√©cnicos</span>
          </div>
          <div className="flex items-center gap-2">
            <input type="checkbox" className="w-4 h-4" />
            <span>Anexo D: Diagrama infraestructura</span>
          </div>
        </div>
      </div>

      <div className="border-t-2 border-gray-300 pt-4 mt-8">
        <div className="grid grid-cols-2 gap-4 text-sm">
          <div>
            <p className="font-semibold">Elaborado por:</p>
            <input type="text" className="w-full border-b border-gray-300 mt-2" />
            <p className="text-xs text-gray-500 mt-1">Nombre y firma</p>
          </div>
          <div>
            <p className="font-semibold">Fecha:</p>
            <input type="date" className="w-full border-b border-gray-300 mt-2" />
          </div>
        </div>
      </div>

      <div className="mt-6 p-3 bg-yellow-50 border-l-4 border-yellow-500 text-sm print:hidden">
        <p className="font-semibold">üìå Notas:</p>
        <ul className="text-gray-700 mt-1 space-y-1 ml-4 list-disc">
          <li>Documento de uso interno</li>
          <li>Los datos se guardan autom√°ticamente en tu navegador</li>
          <li>Para crear un nuevo cliente: <code className="bg-gray-200 px-1 rounded">?client=nombre-empresa</code></li>
          <li>Para imprimir/PDF: Usa el bot√≥n superior o Ctrl+P</li>
          <li>El PDF se puede subir a Odoo para archivo</li>
        </ul>
      </div>
    </div>
  );
};

export default DattoPilotTemplate;
